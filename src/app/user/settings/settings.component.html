<div class="page-wrapper py-5">
    <div class="container max-w-custom">
      
      <div class="mb-5">
        <h2 class="fw-bold text-white mb-1"><i class="bi bi-gear-fill text-secondary me-2"></i>Settings</h2>
        <p class="text-secondary small">Manage your privacy, notifications, and account security.</p>
      </div>
  
      <div class="row g-4">
        
        <div class="col-md-4 col-lg-3">
          <div class="card glass-card border-0 shadow-lg position-sticky" style="top: 85px;">
            <div class="card-body p-3">
              <div class="nav flex-column nav-pills gap-1">
                
                <button class="nav-link custom-nav-link d-flex align-items-center gap-3" 
                        [class.active]="activeTab === 'privacy'" 
                        (click)="setTab('privacy')">
                  <i class="bi bi-shield-lock fs-5 text-info"></i> Privacy
                </button>
                
                <button class="nav-link custom-nav-link d-flex align-items-center gap-3" 
                        [class.active]="activeTab === 'notifications'" 
                        (click)="setTab('notifications')">
                  <i class="bi bi-bell fs-5 text-warning"></i> Notifications
                </button>
  
                <button class="nav-link custom-nav-link text-danger-hover d-flex align-items-center gap-3 mt-3 border-top custom-border pt-3 rounded-0" 
                        [class.active]="activeTab === 'account'" 
                        (click)="setTab('account')">
                  <i class="bi bi-exclamation-triangle fs-5"></i> Danger Zone
                </button>
  
              </div>
            </div>
          </div>
        </div>
  
        <div class="col-md-8 col-lg-9">
          <div class="card glass-card border-0 shadow-lg">
            
            <div *ngIf="activeTab === 'privacy'" class="animation-fade-in">
              <div class="card-header bg-transparent border-bottom custom-border pt-4 pb-3 px-4">
                <h5 class="fw-bold text-white mb-0">Privacy & Visibility</h5>
              </div>
              
              <div class="card-body p-4 p-md-5">
                
                <div class="setting-item d-flex justify-content-between align-items-center mb-4 pb-4 border-bottom custom-border">
                  <div>
                    <h6 class="text-white fw-bold mb-1"><i class="bi bi-envelope-check text-primary me-2"></i> Show Email on Posts</h6>
                    <p class="text-secondary small mb-0">Allow other users to see your email address when viewing your room or roommate listings.</p>
                  </div>
                  <div class="form-check form-switch custom-switch">
                    <input class="form-check-input" type="checkbox" [(ngModel)]="settings.privacy.showEmail" (change)="saveSettings()">
                  </div>
                </div>
  
                <div class="setting-item d-flex justify-content-between align-items-center mb-4 pb-4 border-bottom custom-border">
                  <div>
                    <h6 class="text-white fw-bold mb-1"><i class="bi bi-telephone text-success me-2"></i> Show Phone Number</h6>
                    <p class="text-secondary small mb-0">Display your phone number publicly on your active listings for faster contact.</p>
                  </div>
                  <div class="form-check form-switch custom-switch">
                    <input class="form-check-input" type="checkbox" [(ngModel)]="settings.privacy.showPhone" (change)="saveSettings()">
                  </div>
                </div>
  
                <div class="setting-item d-flex justify-content-between align-items-center">
                  <div>
                    <h6 class="text-white fw-bold mb-1"><i class="bi bi-chat-dots text-info me-2"></i> Allow Direct Messages</h6>
                    <p class="text-secondary small mb-0">Let verified RentIt users send you messages through the platform.</p>
                  </div>
                  <div class="form-check form-switch custom-switch">
                    <input class="form-check-input" type="checkbox" [(ngModel)]="settings.privacy.allowMessages" (change)="saveSettings()">
                  </div>
                </div>
  
              </div>
            </div>
  
            <div *ngIf="activeTab === 'notifications'" class="animation-fade-in">
              <div class="card-header bg-transparent border-bottom custom-border pt-4 pb-3 px-4">
                <h5 class="fw-bold text-white mb-0">Notification Preferences</h5>
              </div>
              
              <div class="card-body p-4 p-md-5">
                
                <div class="setting-item d-flex justify-content-between align-items-center mb-4 pb-4 border-bottom custom-border">
                  <div>
                    <h6 class="text-white fw-bold mb-1">Email Alerts</h6>
                    <p class="text-secondary small mb-0">Receive important updates and account activity via email.</p>
                  </div>
                  <div class="form-check form-switch custom-switch">
                    <input class="form-check-input" type="checkbox" [(ngModel)]="settings.notifications.emailAlerts" (change)="saveSettings()">
                  </div>
                </div>
  
                <div class="setting-item d-flex justify-content-between align-items-center mb-4 pb-4 border-bottom custom-border">
                  <div>
                    <h6 class="text-white fw-bold mb-1">New Room/Roommate Matches</h6>
                    <p class="text-secondary small mb-0">Get notified when a new post matches your saved filter criteria.</p>
                  </div>
                  <div class="form-check form-switch custom-switch">
                    <input class="form-check-input" type="checkbox" [(ngModel)]="settings.notifications.newRoomMatches" (change)="saveSettings()">
                  </div>
                </div>
  
                <div class="setting-item d-flex justify-content-between align-items-center">
                  <div>
                    <h6 class="text-white fw-bold mb-1">Promotional Offers</h6>
                    <p class="text-secondary small mb-0">Receive emails about RentIt premium features and partner discounts.</p>
                  </div>
                  <div class="form-check form-switch custom-switch">
                    <input class="form-check-input" type="checkbox" [(ngModel)]="settings.notifications.promotionalOffers" (change)="saveSettings()">
                  </div>
                </div>
  
              </div>
            </div>
  
            <div *ngIf="activeTab === 'account'" class="animation-fade-in">
              <div class="card-header bg-transparent border-bottom border-danger border-opacity-25 pt-4 pb-3 px-4">
                <h5 class="fw-bold text-danger mb-0">Danger Zone</h5>
              </div>
              
              <div class="card-body p-4 p-md-5">
                
                <div class="d-flex flex-column flex-sm-row justify-content-between align-items-sm-center mb-5 pb-4 border-bottom custom-border">
                  <div class="mb-3 mb-sm-0">
                    <h6 class="text-white fw-bold mb-1">Sign Out</h6>
                    <p class="text-secondary small mb-0">Sign out of your account on this device.</p>
                  </div>
                  <button class="btn btn-outline-light px-4 py-2 fw-bold" (click)="onSignOut()">
                    <i class="bi bi-box-arrow-right me-2"></i> Sign Out
                  </button>
                </div>
  
                <div class="d-flex flex-column flex-sm-row justify-content-between align-items-sm-center">
                  <div class="mb-3 mb-sm-0 pe-sm-4">
                    <h6 class="text-danger fw-bold mb-1">Delete Account</h6>
                    <p class="text-secondary small mb-0">Permanently delete your account, active listings, and saved items. This action cannot be reversed.</p>
                  </div>
                  <button class="btn btn-danger px-4 py-2 fw-bold whitespace-nowrap" (click)="onDeleteAccount()">
                    <i class="bi bi-trash-fill me-2"></i> Delete Account
                  </button>
                </div>
  
              </div>
            </div>
  
          </div>
  
          <div class="save-toast badge bg-primary text-white p-2 px-3 shadow-lg" [class.show]="isSaving">
            <span class="spinner-border spinner-border-sm me-2"></span> Saving changes...
          </div>
  
        </div>
      </div>
    </div>
  </div>