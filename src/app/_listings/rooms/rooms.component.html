<div class="page-wrapper">
    <div class="container py-4">
      
      <div class="mb-4">
        <h2 class="fw-bold text-white mb-1">Find Rooms</h2>
        <p class="text-secondary small">Discover {{ totalElements }} available properties</p>
      </div>
  
      <div class="filter-bar p-3 mb-4 rounded-3 d-flex flex-wrap gap-3 align-items-center">
        <div class="flex-grow-1 position-relative" style="max-width: 300px;">
          <i class="bi bi-search position-absolute top-50 start-0 translate-middle-y ms-3 text-secondary"></i>
          <input type="text" class="form-control form-control-sm custom-input ps-5" placeholder="Search city..." [(ngModel)]="searchCity">
        </div>
        
        <select class="form-select form-select-sm custom-input" style="width: 150px;">
          <option value="">BHK Type</option>
          <option value="1RK">1 RK</option>
          <option value="1BHK">1 BHK</option>
          <option value="2BHK">2 BHK</option>
        </select>
  
        <div class="ms-auto d-flex align-items-center gap-2">
          <label class="text-secondary small whitespace-nowrap mb-0">Sort by:</label>
          <select class="form-select form-select-sm custom-input" style="width: 130px;" [(ngModel)]="sortBy" (change)="loadRooms()">
            <option value="postedOn">Newest First</option>
            <option value="rentAmount">Price</option>
          </select>
        </div>
      </div>
  
      <div *ngIf="isLoading" class="text-center py-5">
        <div class="spinner-border text-secondary" role="status"></div>
      </div>
  
      <div class="row g-4 mb-5" *ngIf="!isLoading">
        <div class="col-12 col-md-6 col-lg-4 col-xl-3" *ngFor="let room of rooms">
          <app-listing-card [data]="room" type="ROOM"></app-listing-card>
        </div>
        
        <div *ngIf="rooms.length === 0" class="col-12 text-center py-5">
          <i class="bi bi-search fs-1 text-secondary mb-3 d-block"></i>
          <h5 class="text-white">No rooms found</h5>
          <p class="text-secondary">Try adjusting your filters.</p>
        </div>
      </div>
  
      <div class="d-flex justify-content-center mt-4" *ngIf="totalPages > 1 && !isLoading">
        <ul class="pagination custom-pagination gap-2">
          
          <li class="page-item" [class.disabled]="currentPage === 0">
            <button class="page-link" (click)="prevPage()"><i class="bi bi-chevron-left"></i></button>
          </li>
          
          <li class="page-item" *ngFor="let page of pageNumbers" [class.active]="currentPage === page">
            <button class="page-link" (click)="goToPage(page)">{{ page + 1 }}</button>
          </li>
          
          <li class="page-item" [class.disabled]="currentPage === totalPages - 1">
            <button class="page-link" (click)="nextPage()"><i class="bi bi-chevron-right"></i></button>
          </li>
          
        </ul>
      </div>
  
    </div>
  </div>